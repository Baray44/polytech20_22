clc;
clear;
% Параметры объекта управления
b = 10;
a = 2;
A = [-1 b; -b -a];
B = [1 0; 0 a];
 
% Веса при х
Q = [100 0; 0 100];
% Веса при управлении
R = [1 0; 0 1];
syms  p1 p2 p12
P = [p1 p12; p12 p2];
% Уравнение Риккати
fun = @(P)(A'*P+P*A-P*B*inv(R)*B'*P+Q);
% Решим уравнение Риккати
P = fsolve(fun,eye(2),optimoptions('fsolve'));
% Расчет коэффициентов регулятора
K = -inv(R)*B'*P;
disp('Коэффициенты регулятора');
disp(K);
